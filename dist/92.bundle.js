"use strict";(self.webpackChunkzosusoft_prj_hirokazu=self.webpackChunkzosusoft_prj_hirokazu||[]).push([[92],{92:(e,s,o)=>{o.r(s),o.d(s,{DynamicConversationScene:()=>t});class t extends Phaser.Scene{constructor(e){super({key:e}),this.eventId=e,this.resourcesLoaded=!1}preload(){console.log(`[DynamicConversationScene] preload started for event: ${this.eventId}`),this.load.on("complete",(()=>{console.log(`[DynamicConversationScene] リソース読み込み完了: ${this.eventId}`),this.resourcesLoaded=!0})),this.loadRequiredResources()}loadRequiredResources(){o.e(557).then(o.bind(o,557)).then((({getRequiredResources:e,getEventConfig:s})=>{this.eventConfig=s(this.eventId);const o=e(this.eventId);o&&(o.backgrounds?.forEach((e=>{this.load.image(e,`assets/backgrounds/miemachi_bk/${e}.png`)})),o.characters?.forEach((e=>{this.load.image(e,`assets/characters/portraits/${e}.png`)})),o.bgm?.forEach((e=>{this.load.audio(`bgm_${e}`,`assets/audio/bgm/${e}.mp3`)})),o.se?.forEach((e=>{this.load.audio(`se_${e}`,`assets/audio/se/${e}.mp3`)})))}))}create(){if(console.log(`[DynamicConversationScene] create started for event: ${this.eventId}`),!this.resourcesLoaded)return console.log(`[DynamicConversationScene] リソース読み込み待機中: ${this.eventId}`),void this.time.delayedCall(100,(()=>{this.create()}));console.log(`[DynamicConversationScene] ConversationScene開始: ${this.eventId}`),this.scene.start("ConversationScene",{conversationId:this.eventId,eventConfig:this.eventConfig})}}}}]);